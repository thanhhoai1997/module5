'use strict';
const
    ejs = require('ejs'),
    sequelize = require('sequelize');


class Formix {
    constructor(model, options) {
        if( typeof model !== typeof sequelize.Model ) {
            throw new Error("Isn't a model.");
        }

        this.model = model;
        this.parse();
    }

    /**
     * Parses the model meta information.
     */
    parse() {
    }

    /**
     * Renders the customized model to a form.
     */
    render() {
        ejs.renderFile(__dirname + '/../views/form.ejs', {
            form: {
                label: this.model.name,
                action: "/",
                method: "post"
            },
            model: this.model
        }, function (err, html) {
            console.log(err || html);
        });
    }
}

module.exports = Formix;